services:
  app:
    image: sibbl/hass-lovelace-kindle-screensaver:latest
    env_file:
      - .env
    environment:
      - HA_BASE_URL=https://homeassistant.marcuslab.uk
      - HA_SCREENSHOT_URL=/dashboard-kindle/home?kiosk
      - CRON_JOB=* * * * *
      - RENDERING_TIMEOUT=30000
      - RENDERING_DELAY=0
      - RENDERING_SCREEN_HEIGHT=1448
      - RENDERING_SCREEN_WIDTH=1072
      - GRAYSCALE_DEPTH=8
      - OUTPUT_PATH=/output/cover
      - LANGUAGE=en
      - ROTATION=0
      - SCALING=2
      - REMOVE_GAMMA=true
    ports:
      - 5001:5000
    volumes:
      - ./output/:/output
      - /etc/localtime:/etc/localtime:ro
      - /etc/timezone:/etc/timezone:ro
